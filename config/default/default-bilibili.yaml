# ===============================================================================
# Bilibili 解析器配置 - 纯API + FFmpeg方案
# ===============================================================================
# 使用说明：
# 1. 首次使用请先执行 #b站登录 进行扫码登录获取Cookie
# 2. 支持视频、动态、评论、互动等完整功能
# 3. 智能画质会根据文件大小自动降级，防止超出限制
# 4. 分P视频发送后使用 #p[数字] 选择具体分P
# 5. 引用解析消息可进行后续操作（展开评论、下载封面等）

# ---------------- 基础配置 ----------------
basic:
  # 是否启用B站解析功能
  enable: true

  # 同一视频/动态解析冷却时间（秒），0表示无冷却
  cooldown: 180

# ---------------- 认证配置 ----------------
auth:
  # B站Cookie（扫码登录后自动填充，请勿手动修改）
  cookie: ""

  # Cookie刷新令牌（用于自动续期）
  refresh_token: ""

# ---------------- 视频配置 ----------------
video:
  # 默认下载画质
  # 画质对应关系：
  # - 120: 4K 超清        - 116: 1080P 60帧    - 112: 1080P 高码率
  # - 80:  1080P 高清     - 74:  720P 60帧     - 64:  720P 高清
  # - 32:  480P 清晰      - 16:  360P 流畅
  # 注意：高画质（>=112）需要大会员
  quality: 64

  # 视频时长限制（秒），超过则只发信息不下载
  # 3600秒 = 1小时
  durationLimit: 3600

  # 视频文件大小上限（MB），超过则不下载
  # 设置为 0 表示无限制
  fileSizeLimit: 200

  # 群文件上传阈值（MB）
  # 超过此大小的视频将上传为群文件而非直接发送
  sendThreshold: 100

  # 智能画质自动降级配置
  smartQuality:
    # 是否启用智能画质降级
    enable: true

    # 降级触发阈值（MB）
    # 当视频超过此大小时，尝试使用更低画质
    threshold: 100

    # 目标文件大小（MB）
    # 降级后尝试达到的目标大小
    targetSize: 80

    # 画质降级优先级列表（从高到低尝试）
    # 会自动跳过比默认画质更高的选项
    priority: [80, 64, 32, 16]

    # 是否显示画质降级提示
    showNotice: true

# ---------------- 分P配置 ----------------
multiPage:
  # 分P选择等待超时（秒）
  timeout: 300

  # 是否自动播放第一P（不询问用户）
  autoFirstPage: false

# ---------------- 显示配置 ----------------
display:
  # 是否显示视频封面
  showCover: true

  # 是否显示统计数据（播放量、弹幕数、点赞等）
  showStats: true

  # 是否显示视频简介
  showDesc: true

  # 视频简介最大字符数
  descMaxLength: 120

  # 是否显示AI摘要（需要有效Cookie）
  showSummary: false

  # 评论区显示条数（1-20）
  commentCount: 10

# ---------------- 动态配置 ----------------
dynamic:
  # 是否启用动态解析
  enable: true

  # 是否发送动态图片
  sendImages: true

  # 单条动态最多发送图片数量（0表示不限制）
  imageLimit: 5

# ---------------- 互动配置 ----------------
interact:
  # 是否启用互动功能（点赞、投币、收藏等）
  enable: true

  # 默认收藏夹序号（1为默认收藏夹）
  defaultFavFolder: 1

# ---------------- 推送配置 ----------------
push:
  # 是否启用UP主视频推送
  enable: true

  # 检查间隔（分钟）
  interval: 3

# ---------------- 链接配置 ----------------
link:
  # 解析后是否发送原B站链接
  showOriginal: true

# ---------------- 调试配置 ----------------
debug:
  # 是否显示详细日志
  showLog: false
